# 插件的加载 #

***
	进程启动需要的插件都写在配置文件中, 通过startup=xxx.startup参数参入进程中.
		
	<Setting>
		<Plugins AppName="dir" AppType="proxy" Common="./setting/common.startup">
			<Plugin Name="KFTcpServer" Startup="1" Sort="100" Debug="KFTcpServerd" Release="KFTcpServer" Config="./setting/server.network"/>
    		<Plugin Name="KFClusterProxy" Startup="1" Sort="110" Debug="KFClusterProxyd" Release="KFClusterProxy" Config=""/>
   			<Plugin Name="KFDirProxy" Startup="1" Sort="120" Debug="KFDirProxyd" Release="KFDirProxy" Config=""/>
		</Plugins>
	</Setting>

	这个是目录服务器( dir-proxy )的启动配置.
	
	Plugins
		AppName 进程的服务器名称
		AppType 进程的服务器类型
		Common	公共的启动配置, 不需要请填成空
	
	Plugin   每一行代表一个插件
		Name		插件的名称( 可以自定义 )
		Startup  	是否启动 默认为1 
		Sort		执行顺序, 如果插件中有重写Run或者AfterRun函数, 会根据sort来从小到大顺序执行
		Debug		debug模式下加载的插件名称( 编译后的插件文件名, 没有后缀 )		
		Release		release模式下加载的插件名称( 编译后的插件文件名, 没有后缀 )	
		Config		模块需要的配置文件


***
	启动进程读取插件配置文件, 会依次加载插件模块, 加载之后以进行初始化. 分以下几个步骤:
	1. InstallPlugin 	安装插件, 初始化模块, 并排序
	2. LoadModule 		初始化插件中调用其他插件的模块变量
	3. InitModule 		添加读取配置
	4. LoadConfig 		加载配置
	5. AfterLoad  		加载配置后执行的逻辑
	6. BeforeRun 		执行前的准备逻辑
	7. OnceRun 			仅执行一次的逻辑

	初始化以后进入逻辑循环阶段
	8. Run 				逻辑循环
	9. AfterRun 		Run之后的延迟逻辑

	关闭阶段
	10. BeforeShut 		关闭前准备逻辑
	11. ShutDown 		关闭逻辑
	12. AfterShut		关闭后逻辑
***

	